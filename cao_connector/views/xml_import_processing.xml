<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record id='mf_view_form_xml_import_processing' model="ir.ui.view">
			<field name="name">mf_view_form_xml_import_processing</field>
			<field name="inherit_id" ref="xml_import.view_form_xml_import_processing" />
			<field name="model">xml.import.processing</field>
			<field name="arch" type="xml">
				<xpath expr="//group[@name='group_simulate_import_ids']" position="inside">
					<field name="mf_imported_from_simulation" invisible="1" />
				</xpath>
				<xpath expr="//group[@name='group_simulate_import_ids']" position="attributes">
					<attribute name="attrs">{'invisible': [('state', '!=', 'sim'), ('mf_imported_from_simulation', '=', False)]}</attribute>
				</xpath>
				<xpath expr="//group[@name='group_history_ids']" position="attributes">
					<attribute name="attrs">{'invisible': ['|', ('state', '=', 'sim'), ('mf_imported_from_simulation', '=', True)]}</attribute>
				</xpath>
				<xpath expr="//separator[@name='separator_action_menu_xml']" position="attributes">
					<attribute name="attrs">{'invisible': ['|', '|', ('state','not in', ('sim', 'wait')), ('file', '=', False), ('model_id', '=', False)]}</attribute>
				</xpath>
				<xpath expr="//button[@name='simulate_file_analyse']" position="after">
					<button class="oe_inline oe_stat_button"
							type="object"
							string="Analyse simulation"
							name="analyse_simulation"
							icon="fa-search"
							attrs="{'invisible': [('state','!=', 'sim')]}" />
				</xpath>
			</field>
		</record>
	</data>
</openerp>