<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<record id='mf_view_form_xml_import_processing_sim_action' model="ir.ui.view">
			<field name="name">mf_view_form_xml_import_processing_sim_action</field>
			<field name="inherit_id" ref="xml_import.view_form_xml_import_processing_sim_action" />
			<field name="model">xml.import.processing.sim.action</field>
			<field name="arch" type="xml">
				<xpath expr="//form" position="attributes">
					<attribute name="create">false</attribute>
					<attribute name="edit">false</attribute>
				</xpath>
				<xpath expr="//field[@name='processing_id']" position="after">
					<field name="mf_selected_for_import"/>
				</xpath>
				<xpath expr="//field[@name='reference']" position="before">
					<field name="mf_beacon_id"/>
				</xpath>
				<xpath expr="//form//group" position="inside">
					<group string="Field to set"
						   colspan="4"
						   attrs="{'invisible': [('mf_field_setter_id', '=', False)]}">
						<field name="mf_field_setter_id" nolabel="1" />
					</group>
					<group string="Children records"
						   colspan="4"
						   attrs="{'invisible': [('mf_sim_action_children_ids', '=', [])]}">
						<field name="mf_sim_action_children_ids" nolabel="1" />
					</group>
				</xpath>
			</field>
		</record>

		<record id='mf_view_tree_xml_import_processing_sim_action' model="ir.ui.view">
			<field name="name">mf_view_tree_xml_import_processing_sim_action</field>
			<field name="inherit_id" ref="xml_import.view_tree_xml_import_processing_sim_action" />
			<field name="model">xml.import.processing.sim.action</field>
			<field name="arch" type="xml">
				<xpath expr="//tree" position="attributes">
					<attribute name="colors">green:type == 'create';orange:type == 'update';red:type == 'delete'</attribute>
				</xpath>
			</field>
		</record>

		<!-- STRUCTURE TREE VIEW -->

		<record id="mf_view_structure_tree_xml_import_processing_sim_action" model="ir.ui.view">
			<field name="name">mf_view_structure_tree_xml_import_processing_sim_action</field>
			<field name="model">xml.import.processing.sim.action</field>
			<field name="type">tree</field>
			<field name="field_parent">mf_tree_view_sim_action_children_ids</field>
			<field name="priority">10</field>
			<field name="arch" type="xml">
				<tree string="Simulation structure"
					  create="false"
					  colors="green:type == 'create';orange:type == 'update';red:type == 'delete'">
					<field name="mf_node_name"/>
					<field name="name"/>
					<field name="type"/>
					<field name="object_model"/>
					<field name="mf_selected_for_import"/>
				</tree>
			</field>
		</record>

		<act_window name="Simulation element"
					res_model="mf.wizard.xml.import.see.sim.action"
					src_model="xml.import.processing.sim.action"
					view_mode="form"
					target="new"
					key2="tree_but_open"
					id="mf_action_view_structure_tree_xml_import_processing_sim_action" />

		<record id="ir_act_mrp_bom_open" model="ir.values">
			<field name="key2">tree_but_open</field>
			<field name="model">xml.import.processing.sim.action</field>
			<field name="name">Open simulation element</field>
			<field eval="'ir.actions.act_window,%d'%mf_action_view_structure_tree_xml_import_processing_sim_action"
				   name="value" />
		</record>
	</data>
</openerp>