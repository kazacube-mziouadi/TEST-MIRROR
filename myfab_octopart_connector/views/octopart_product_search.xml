<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<!-- FORM VIEW Import product -->
		<record id='view_form_connector_product' model='ir.ui.view'>
			<field name="name">view_form_connector_product</field>
			<field name="model">octopart.product</field>
			<field name="arch" type="xml">
				<form string="Search product" version="8.0">
                    <group colspan="4" col="9" name="group_all">
                        <group colspan="8" col="8">
                            <div>
                                <h1>
                                    <field name="name" />
                                </h1>
                            </div>
                            <group colspan="8" col="4" string="Detail">
                                <field name="category_id" />
        						<field name="manufacturer_name" />
                				<field name="seller_name" />
            					<field name="description" />
            					<field name="sample"/>
            				</group>
                            <group colspan="8" col="8" string="Specifications">
                                <group colspan="7" col="1">
                                    <field name="list_specs_search_ids" widget="many2many_tags" colspan="2" nolabel="1" />
                                </group>
                                <group colspan="1" col="1">                             
                                    <button class="oe_icon_button" type="action" string="" style="font-size: 25px; margin-top: -10px;"
                                        context="{'default_active_connector_id': active_id, 'default_category_id': category_id}"
                                        name="%(action_create_advanced_search_filter)d" icon="fa-plus" />
                                </group>
                            </group>                          
                            <group colspan="8" col="4" string="Results">                                
                                <field name="result_number" readonly="True" />
                                <field name="count_response" readonly="True" />
                                <field name="list_result_ids" colspan="4" nolabel="1" readonly="1">
                                    <tree editable="bottom">
                                        <field name="brand_name" />
                                        <field name="octopart_uid" />
                                        <field name="is_in_openprod" readonly="True"/>
                                        <field name="mpn" />
                                        <field name="short_description" />
                                        <button name="open_sellers_offers" string="Open sellers offers"
                                            type="object" class="oe_inline oe_stat_button" />  
                                        <button class="oe_inline oe_stat_button" type="action"
                                            context="{'default_name': short_description, 'default_part_uid_octopart': octopart_uid, 'default_product_id': id}"
                                            string="Import part with template" name="%(action_create_import_wizard_template)d"
                                            attrs="{'invisible': [('is_in_openprod', '=', True)]}"/> 
                                    </tree>
                                </field>
                            </group>
                        </group>
                        <group colspan="1" col="1" class="op_shortcuts" name="action_menu">
                            <separator string="Actions" colspan="1" name="separator_action_menu" />
                            <button name="search_product" string="Search parts"
                                type="object" class="oe_inline oe_stat_button" icon="fa-search" />
                            <button name="more_product_results" string="More result"
                                type="object" class="oe_inline oe_stat_button" icon="fa-search" attrs="{'invisible': [('result_number', '=', 0)]}" /> 
                            <button name="clear_result" string="Clear part list"
                                type="object" class="oe_inline oe_stat_button" icon="fa-eraser" attrs="{'invisible': ['|',('result_number', '=', 0),('result_number', '=', 'count_response')]}"/>  
                            <separator string="" colspan="1"
                                name="separator_connector_menu_4" /> 
                            <button class="oe_inline oe_stat_button" type="action"
                                string="Add octopart id to supplyer" name="%(action_add_octopart_seller_id)d" icon="fa-plus" />
                        </group>
                    </group>
				</form>
			</field>
		</record>
		
		<!-- TREE VIEW Connector product -->
        <record id='view_tree_connector_product' model='ir.ui.view'>
            <field name="name">view_tree_connector_product</field>
            <field name="model">octopart.product</field>
            <field name="arch" type="xml">
                <tree string="Connector product">
                    <field name="name" />
                    <field name="category_id" />
                </tree>
            </field>
        </record>
		
		<!-- Import product -->
		<record model="ir.actions.act_window"
			id="action_see_import_product">
			<field name="name">Search product</field>
			<field name="res_model">octopart.product</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

        <!-- Import product menu -->
		<menuitem name="Importer un produit"
			action="action_see_import_product" id="menu_myfab_octopart_connector"
			parent="product.menu_product_main" sequence="300" />

        <!-- FORM VIEW Octopart specs search -->
        <record id='view_form_specs_search' model='ir.ui.view'>
            <field name="name">view_form_specs_search</field>
            <field name="model">octopart.specs.search</field>
            <field name="arch" type="xml">
                <form string="specs_search" version="8.0">
                    <group colspan="4" col="4" name="group_all" string="Detail">
                        <field name="metedata_key"/> 
                        <field name="spec_value" attrs="{'invisible': [('spec_value', '=', False)]}"/>
                        <field name="spec_min_value" attrs="{'invisible': [('spec_min_value', '=', False)]}"/>
                        <field name="spec_max_value" attrs="{'invisible': [('spec_max_value', '=', False)]}"/>
                    </group>
                </form>
            </field>
        </record>
        
        <!-- ACTION Octopart specs search form -->
        <record model="ir.actions.act_window"
            id="action_see_specs_search">
            <field name="name">Specs Search</field>
            <field name="res_model">octopart.specs.search</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="context">{'create':False, 'copy': False, 'delete': False, 'edit':False}</field>
        </record>

        <!-- FORM VIEW Octopart result -->
        <record id='view_form_octopart_result' model='ir.ui.view'>
            <field name="name">view_form_octopart_result</field>
            <field name="model">octopart.search.result</field>
            <field name="arch" type="xml">
                <form string="Octopart options" version="8.0">
                    <group colspan="4" col="9" name="group_all">
                        <group colspan="8" col="1" string="Description">
                            <field name="short_description" nolabel="1"/>
                        </group>
                        <group colspan="8" col="1" string="Attribute">
                            <field name="value_ids" colspan="4" nolabel="1">
                                <tree editable="bottom">
                                    <field name="characteristic_type_id" />
                                    <field name="value" />
                                    <field name="unit_octopart" />
                                    <field name="uom_id" />
                                </tree>
                            </field>
                        </group>
                    </group>
                </form>
            </field>
        </record>
	</data>
</openerp>
