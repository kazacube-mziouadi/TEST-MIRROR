<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<!-- Herite de la vue de FileInterfaceMF sans la modifier (juste un attribut pour que l'heritage fonctionne) -->
		<record id='file_interface_export_mf' model="ir.actions.act_window">
        	<field name="name">MyFab File Interface Export</field>
			<field name="res_model">file.interface.export.mf</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
        </record>

		<record id='file_interface_export_mf_treeview' model="ir.ui.view">
        	<field name="name">MyFab File Interface Export</field>
			<field name="inherit_id" ref="myfab_file_interface.file_interface_mf_treeview" />
			<field name="mode">primary</field>
			<field name="model">file.interface.export.mf</field>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="attributes">
					<attribute name="class">myfab_file_interface_export_mf_treeview</attribute>
				</xpath>
			</field>
        </record>

        <record id='file_interface_export_mf_form' model="ir.ui.view">
        	<field name="name">file.interface.export.mf.form</field>
			<field name="inherit_id" ref="myfab_file_interface.file_interface_mf_form" />
			<field name="mode">primary</field>
			<field name="model">file.interface.export.mf</field>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='directory_mf']" position="after">
					<group colspan="4" col="1">
						<field name="model_dictionaries_to_export_mf"/>
					</group>
				</xpath>
				<xpath expr="//group[@name='file_format_group']" position="after">
					<group colspan="4" col="4">
						<field name="use_custom_extension"/>
						<field name="activate_file_generation_mf"/>
						<field name="custom_extension"
							   attrs="{'invisible': [('use_custom_extension', '=', False)],'required': [('use_custom_extension', '=', True)]}"/>
					</group>
				</xpath>
				<xpath expr="//page[@name='page_configuration_file']" position="after">
					<page string="Advanced" name="page_configuration_advanced">
						<group col="2">
							<field name="mf_method_to_apply" />
						</group>
					</page>
				</xpath>
				<xpath expr="//page[@name='page_monitoring_directory']" position="after">
					<page string="History" name="page_monitoring_history">
						<field name="export_attempts_mf"/>
					</page>
				</xpath>
			</field>
		</record>
    </data>
</openerp>