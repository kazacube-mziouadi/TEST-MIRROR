<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<!-- Herite de la vue de FileMF sans la modifier (juste un attribut pour que l'heritage fonctionne) -->
		<record id='physical_file_mf' model="ir.actions.act_window">
        	<field name="name">myfab physical file</field>
			<field name="res_model">physical.file.mf</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
        </record>

		<record id='physical_file_mf_treeview' model="ir.ui.view">
        	<field name="name">myfab physical files</field>
			<field name="inherit_id" ref="myfab_file_interface.file_mf_treeview" />
			<field name="mode">primary</field>
			<field name="model">physical.file.mf</field>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="after">
					<field name="last_modification_date_mf"/>
					<button name="delete"
							string="Delete file"
							type="object"
							class="oe_highlight"/>
				</xpath>
			</field>
        </record>

        <record id='physical_file_mf_form' model="ir.ui.view">
        	<field name="name">physical.file.mf.form</field>
			<field name="inherit_id" ref="myfab_file_interface.file_mf_form" />
			<field name="mode">primary</field>
			<field name="model">physical.file.mf</field>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="after">
					<field name="path_mf"/>
					<field name="last_modification_date_mf"
						   readonly="1"
						   attrs="{'invisible': [('last_modification_date_mf', '=', False)]}"/>
				</xpath>
				<xpath expr="//button[@name='download_file']" position="after">
					<button class="oe_inline oe_stat_button"
							type="object"
							name="delete"
							string="Delete file"
							icon="fa-trash"/>
				</xpath>
			</field>
		</record>
    </data>
</openerp>